{"version":3,"sources":["components/Header.js","context/AppReducer.js","context/GlobalState.js","components/Balance.js","components/IncomeExpenses.js","components/Transaction.js","components/TransactionList.js","components/AddTransaction.js","App.js","index.js"],"names":["Header","state","action","type","transactions","filter","transaction","id","payload","initialState","GlobalContext","createContext","GlobalProvaider","children","useReducer","AppReducer","localData","localStorage","getItem","JSON","parse","dispatch","useEffect","setItem","stringify","Provider","value","deleteTransacrion","addTransacrion","Balance","total","useContext","map","amount","reduce","acc","item","toFixed","IncomeExpenses","amounts","income","expense","className","Transaction","sign","text","Math","abs","onClick","TransactionList","AddTransaction","useState","setText","setAmount","onSubmit","e","preventDefault","newTransaction","floor","random","htmlFor","onChange","target","placeholder","App","Button","variant","element","document","createElement","file","Blob","getElementById","textContent","split","join","href","URL","createObjectURL","download","body","appendChild","click","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.0735f780.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport const Header = () => {\r\n    return (\r\n        <h2>\r\n            Expence Trucker\r\n        </h2>\r\n    )\r\n}\r\n","export default (state, action) => {\r\n    switch(action.type){\r\n        case 'DELETE_TRANSACTION':\r\n            return {\r\n                ...state,\r\n                transactions: state.transactions.filter(transaction => transaction.id !== action.payload)\r\n            }\r\n         case 'ADD_TRANSACTION':\r\n            return{\r\n                ...state,\r\n                transactions: [action.payload,...state.transactions]\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","import React, { createContext, useReducer, useState, useEffect } from 'react';\r\nimport AppReducer from './AppReducer'\r\n\r\n// Инициализация состояния\r\nconst initialState = {\r\n    transactions: []\r\n}\r\n\r\n\r\n\r\n// Создание контекста\r\nexport const GlobalContext = createContext(initialState);\r\n\r\n// Компонент провйдера\r\nexport const GlobalProvaider = ({children}) => {\r\n    const [state, dispatch] = useReducer(AppReducer, initialState, () =>{\r\n        const localData = localStorage.getItem('state')\r\n        return localData ? JSON.parse(localData) : []\r\n    })\r\n    useEffect(() => {\r\n        localStorage.setItem('state', JSON.stringify(state))\r\n    }, [state])\r\n\r\n    function deleteTransacrion(id) {\r\n        dispatch({\r\n            type: 'DELETE_TRANSACTION',\r\n            payload: id\r\n        })\r\n    }\r\n\r\n    function addTransacrion(transaction) {\r\n        dispatch({\r\n            type: 'ADD_TRANSACTION',\r\n            payload: transaction\r\n        })\r\n    }\r\n     \r\n    return (<GlobalContext.Provider value={{\r\n        transactions: state.transactions,\r\n        deleteTransacrion,\r\n        addTransacrion\r\n    }}>\r\n        {children}\r\n    </GlobalContext.Provider>)\r\n}","import React, { useContext} from 'react'\r\nimport { GlobalContext } from '../context/GlobalState'\r\n\r\n\r\nexport const Balance = () => {\r\n    const {transactions} = useContext(GlobalContext)\r\n\r\n    const amounts = transactions.map(transaction => transaction.amount);\r\n    const total = amounts.reduce((acc, item) => (acc += item), 0).toFixed(2);\r\n\r\n    return (\r\n        <>\r\n         <h4>Текущий баланс</h4>\r\n         <h1 id=\"total\">₴{total}</h1>\r\n        </>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { GlobalContext } from '../context/GlobalState'\r\n\r\nexport const IncomeExpenses = () => {\r\n  const {transactions} = useContext(GlobalContext)\r\n\r\n  const amounts = transactions.map(transaction => transaction.amount);\r\n\r\n  const income = amounts\r\n    .filter(item => item > 0)\r\n    .reduce((acc, item) => (acc += item), 0)\r\n    .toFixed(2);\r\n\r\n  const expense = (\r\n    amounts.filter(item => item < 0).reduce((acc, item) => (acc += item), 0) *\r\n    -1\r\n  ).toFixed(2);\r\n\r\n    return (\r\n        <div id=\"inc-exp-container\">\r\n        <div>\r\n          <h4>Прибыль:</h4>\r\n          <p className=\"money plus\">{income}</p>\r\n        </div>\r\n        <div>\r\n          <h4>Расходы:</h4>\r\n          <p className=\"money minus\">{expense}</p>\r\n        </div>\r\n      </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { GlobalContext } from '../context/GlobalState';\r\n\r\nexport const Transaction = ({ transaction }) => {\r\n    const { deleteTransacrion } = useContext(GlobalContext);\r\n    const sign = transaction.amount < 0 ? '-' : '+';\r\n    \r\n\r\n    return (\r\n        <li className={transaction.amount < 0 ? 'minus-li' : 'plus-li'}>\r\n            {transaction.text} <span>{sign}₴{Math.abs(transaction.amount)}</span><button onClick={() => deleteTransacrion(transaction.id)} className=\"delete-btn\">x</button>\r\n        </li> \r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { GlobalContext } from '../context/GlobalState'\r\nimport { Transaction } from './Transaction'\r\n\r\nexport const TransactionList = () => {\r\n    const {transactions} = useContext(GlobalContext)\r\n    \r\n\r\n    return (\r\n        <div>\r\n         <h3>История</h3>\r\n            <ul id=\"list\">\r\n                {transactions.map(transaction => (<Transaction key={transaction.id} transaction={transaction} />))}\r\n                \r\n            </ul>\r\n        </div>\r\n    )\r\n    \r\n}\r\n","import React, {useState, useContext} from 'react'\r\nimport { GlobalContext } from '../context/GlobalState'\r\n\r\nexport const AddTransaction = () => {\r\n    const [text, setText] = useState('')\r\n    const [amount, setAmount] = useState(0)\r\n\r\n    const { addTransacrion } = useContext(GlobalContext);\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n        const newTransaction = {\r\n            id: Math.floor(Math.random() * 100000000),\r\n            text,\r\n            amount: +amount\r\n        }\r\n        addTransacrion(newTransaction);\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <h3>Добавить новую транзакцию</h3>\r\n            <form onSubmit={onSubmit}>\r\n             <div className=\"form-control\">\r\n                <label htmlFor=\"text\">Текст..</label>\r\n                 <input type=\"text\" value={text} onChange={(e) => setText(e.target.value)} placeholder=\"Enter text...\" />\r\n            </div>\r\n            <div className=\"form-control\">\r\n                <label htmlFor=\"amount\">Сумма <br />\r\n                    (\"-\" - расход, \"+\" - прибыль)</label>\r\n                <input type=\"number\" value={amount} onChange={(e) => setAmount(e.target.value)} placeholder=\"Enter amount...\" />\r\n            </div>\r\n            <button className=\"btn\">Добавить</button>\r\n            </form>\r\n        </>\r\n    )\r\n}\r\n","import './App.css';\nimport { Header } from './components/Header';\nimport { Balance } from './components/Balance';\nimport { IncomeExpenses } from './components/IncomeExpenses';\nimport { TransactionList } from './components/TransactionList';\nimport { AddTransaction } from './components/AddTransaction';\nimport { Button } from 'react-bootstrap'\nimport { GlobalProvaider } from './context/GlobalState'\nimport reactDom from 'react-dom';\n\n\nfunction App() {\n\n  const downloadTxtFile = () => {\n    const element = document.createElement(\"a\")\n    const file = new Blob([` Ваш баланс:${document.getElementById(\"total\").textContent}\\n` + ` ${document.getElementById(\"inc-exp-container\").textContent}\\n` + `История: \\n ${document.getElementById(\"list\").textContent.split('x').join('\\n')} \\n`], {\n      type: \"text/plain;charset=utf-8\",\n    })\n    element.href = URL.createObjectURL(file)\n    element.download = \"Expence Trucker - stat.txt\"\n    document.body.appendChild(element)\n    element.click()\n  }\n\n  return (\n    <GlobalProvaider>\n      <Header />\n        <Button variant=\"outline-dark\" onClick={downloadTxtFile}>Загрузить информацию</Button>\n      <div className='container'> \n        <Balance />\n        <IncomeExpenses />\n        <TransactionList />\n        <AddTransaction />\n      </div>\n    </GlobalProvaider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}